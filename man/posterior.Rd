% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/posterior.R
\name{posterior}
\alias{posterior}
\title{Posterior distribution of piecewise exponential constant hazard rates}
\usage{
posterior(data, cutpoints, prior, N_mcmc, single_arm)
}
\arguments{
\item{data}{data frame. Minimum requirements are 3 columns: event time
(\code{time}), indicator of the event (\code{event}), and indicator for
treatment arm (\code{treatment}). Other columns can be included in the data
frame and will be handled in the split.}

\item{cutpoints}{vector. Times at which the baseline hazard changes. Default
is \code{cutpoints = 0}, which corresponds to a simple (non-piecewise)
exponential model.}

\item{prior}{vector. The prior distributions for the piecewise hazard rate
parameters are each \eqn{Gamma(a_0, b_0)}, with specified (known)
hyper-parameters \eqn{a_0} and \eqn{b_0}. The default non-informative prior
distribution used is Gamma(0.1, 0.1), which is specified by setting
\code{prior = c(0.1, 0.1)}.}

\item{N_mcmc}{integer. Number of samples to from the posterior
distribution.}

\item{single_arm}{logical. If \code{TRUE}, trial is single arm. Else, if
\code{FALSE}, it is a randomized two-arm trial.}
}
\value{
An array of dimension 3. The first dimension is of length
\code{N_mcmc}, the second dimension is of length \eqn{J} (one column for
each hazard piece), and the third dimension is of length 2, with the first
slice including posterior samples from \code{post_treatment}, and the
second slice including posterior samples from \code{post_control}.
}
\description{
Using the Beta-Gamma conjugacy property, the posterior
distribution of the piecewise hazard rates (\eqn{\lambda_j}, for \code{j=1,
  \dots, J}) is calculated and sampled from.
}
